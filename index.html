<!DOCTYPE html>
<html>
<title>Riverine Vehicle Tracking System (RVTS)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="./src/css/w3.css">
<link rel="stylesheet"  href="./src/css/style.css">
<link rel="stylesheet" type="" href="./src/css/home.css">
<link rel="stylesheet" type="" href="./src/css/map.css">
<link rel="stylesheet" type="" href="./src/css/weather.css">
<link rel="stylesheet" type="" href="./src/css/weather-icons-wind.css">
<link rel="stylesheet" type="" href="./src/css/weather-icons-wind.min.css">
<link rel="stylesheet" type="" href="./src/css/weather-icons.css">
<link rel="stylesheet" type="" href="./src/css/weather-icons.min.css">
<link rel="stylesheet" type="" href="./src/css/weather.css">
<link rel="stylesheet" type="" href="./src/css/schedule.css">
<link rel="stylesheet" type="" href="./src/css/ionicons.css">
<link rel="stylesheet" type="" href="./src/css/setting.css">
<script src="./src/script/weather.js"></script>
<body>
    <!----------------Side Bar-------------------------->
    <div class="w3-sidebar  w3-bar-block w3-card-2 w3-animate-left" style="display:none" id="sideBar">
        
        <button class="sideBarButton" onclick="showHomePage()">
            <img src="./resources/icons/home-32.png" alt="Home">
            <p class="sideBarText">Home</p>
        </button>
        <button class="sideBarButton" onclick="showWeatherPage()">
            <img src="./resources/icons/weather-32.png" alt="Weather">
            <p class="sideBarText">Weather</p>
        </button>
        <button class="sideBarButton" onclick="showMapPage()">
            <img src="./resources/icons/map-32.png" alt="Map">
            <p class="sideBarText">Map</p>
        </button>
        <button class="sideBarButton" onclick="showSchedulePage()">
            <img src="./resources/icons/schedule-32.png" alt="Schedule">
            <p class="sideBarText">Schedule</p>
        </button>
        <button class="sideBarButton" onclick="showSettingPage()">
            <img src="./resources/icons/setting-32.png" alt="Settings">
            <p class="sideBarText">Settings</p>
        </button>
      
    </div>
    <!----------------This part update for different pages---->
        <div class="w3-white w3-card w3-red">
            <h1 class="w3-red" id="warning-div" style="text-align: center; display: none;">Warning!!! Distance is less than safe level.</h1>
        </div>
    <div zclass="w3-main" id="main">

    </div>
    <script src="./node_modules/"></script>
    <!-- <script src="./src/script/serverconnection.js"></script> -->
    <script src="./src/script/map.js"></script>
    <script src="./src/script/sidebar.js"></script>
    <script src="./src/script/home.js"></script>
    
    <script src="./src/script/schedule.js"></script>
    <script src="./src/script/setting.js"></script>
    <script src="./src/script/control.js"></script>
    <script>
        var SerialPort = require('serialport');
        var Readline = SerialPort.parsers.Readline;
        var port = new SerialPort('/dev/ttyACM0');
        var parser = port.pipe(Readline({ delimiter: '\r\n' }));
        parser.on('data', function (str) {
            console.log(str);
            // writeToFile(str);
            var datas = str.split("#");
            displayLoadStatus(datas[0]);
            if (datas.length > 1) {
                if (datas[1] > 0) {
                   // gpsInfo(datas[1], datas[2], datas[3]);
                    setGpsInfo(datas[1],datas[2],datas[3]);
                    sendData();
                    
                }
                // ("dist: "+datas[0]+"lat: "+datas[1]+"long: "+datas[2]+"speed: "+datas[3]);
            }
        });
        // port.write('1',function(err){
        //     if(err)
        //         console.log(err);
        //     else
        //         console.log("write successfull");
        // });
    </script>
</body>

</html>
